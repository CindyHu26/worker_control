# 🇹🇼 台灣私立就業服務機構 - 深度業務架構藍圖 (The Master Blueprint)

本文件為台灣移工仲介實務之標準作業程序 (SOP)、合規檢查點與資料模型架構。旨在協助系統開發人員理解「結果導向」與「跨部門協作」的核心開發目標。

---
# 🏛️ 模組一：業務開發與簽約管理 (Sales & Contracting) 
**目標：** 管理從「陌生開發」到「正式簽約」的轉化，以及舊客戶的「追加需求」。

### 1.1 潛在客戶漏斗 (Sales Pipeline)
* **對象：** 尚未簽約的工廠、家庭或機構。
* **流程階段 (Stages)：**
    1.  **接觸 (New/Contacted)**：紀錄來源（陌生拜訪、網路詢問、介紹）。
    2.  **需求訪談 (Discovery)**：
        * 確認產業類別（製造業/營造/家庭）。
        * 確認資格潛力（勞保人數是否足夠？被看護者是否具備診斷書？）。
    3.  **報價 (Quotation)**：
        * **AI 輔助**：依據選定的國籍與工種，自動列出「雇主負擔費用」與「移工薪資結構」預估表。
        * 產生 PDF 報價單傳送給客戶。
    4.  **商談/議價 (Negotiation)**：紀錄客戶反饋（覺得服務費太貴、要求贈送項目等）。

### 1.2 簽約與轉正 (Contracting & Conversion)
* **核心動作：** 將 `Lead` 轉換為 `Employer`。
* **必要文件 (Service Contract)：**
    - [ ] **委任契約書** (Service Agreement)：仲介與雇主的法律關係證明。
    - [ ] **委託書** (Power of Attorney)：授權仲介代辦政府文件。
* **BDD 驗證規則：**
    - `Scenario`: 潛在客戶轉正
      - `Given` 潛在客戶 "旺旺工廠" 狀態為 "議價中"
      - `When` 業務人員上傳 "已簽署委任契約書" 並填寫 "合約效期 (2024-2027)"
      - `Then` 系統應自動建立 "旺旺工廠" 的正式 `Employer` 資料
      - `And` 將原 `Lead` 狀態結案為 "WON" (成交)

### 1.3 需求下單管理 (Job Order / Requisition)
* **情境：** * 情境 A（新客戶）：剛簽約，馬上要 5 個人。
    * 情境 B（舊客戶）：簽約兩年後，因為擴廠，突然要追加 10 個人。
* **資料實體：** `JobOrder` (需求單/派工單)。
* **作業流程：**
    1.  **建立訂單**：選擇 `Employer`，輸入 `需求人數`、`國籍偏好`、`工種`、`性別`。
    2.  **資格掛載檢查 (Quota Check)**：
        * 系統檢查該雇主目前的 `TotalQuota` (工業局核定/巴氏量表) 是否還有餘額？
        * **若無餘額** -> 觸發「前置作業流程」（提示需先申請招募函/工業局函）。
        * **若有餘額** -> 允許進入「選工/媒合」階段。
    3.  **訂單狀態追蹤**：`OPEN` (開缺中) -> `SOURCING` (選工中) -> `PARTIAL` (部分錄取) -> `FILLED` (額滿) -> `CLOSED` (結案)。

---

## 🏗️ 模組二：
## 🔵 階段 0：人才池與招募媒合 (Talent & Recruitment)
**目標：** 在正式受雇前，有效管理大量履歷與面試紀錄，避免重複工與重複面試。

### 0.1 履歷匯入與管理 (Resume Import)
* **痛點解決：** 國外仲介傳來格式散亂的履歷。
* **功能需求：**
    - [ ] **多格式匯入**：支援標準 Excel 範本匯入與 API 對接。
    - [ ] **AI 履歷解析**：解析 PDF/圖片，自動擷取姓名、護照、身高體重、學歷等資訊。
    - [ ] **重複檢核**：依據「護照號碼」或「姓名 + 生日」自動偵測是否已存在。

### 0.2 面試與媒合紀錄 (Interview Log)
* **目標：** 紀錄面試歷程，避免對同一雇主重複推介已打槍之人選。
* **流程：**
    1.  建立 **JobOrder (招募訂單)**。
    2.  **防呆檢查**：系統自動檢查候選人過去 6 個月內是否面試過該雇主。
    3.  紀錄結果：`SELECTED` (正取)、`WAITLIST` (備取)、`REJECTED` (不錄用)。

---

## 🟢 階段 1：雇主資格與前置作業 (Employer Eligibility & Pre-Recruitment)
**目標：** 取得「聘僱資格」。此為合法引進之基石。

### 1.1 國內招募與求才登記 (Domestic Recruitment)
* **法規邏輯：** 必須先證明「台灣人不想做」，才能申請移工。
* **法規更新 (2023/6/1 生效)：** 依據《雇主聘僱外國人許可及管理辦法》修正，透過台灣就業通網站辦理求才者，招募期間由 21 日縮短為 7 日。
* **作業流程 (Steps)：**
    1.  填寫「求才登記表」。
    2.  向雇主工廠/機構所在地之公立就業服務機構（就業中心）送件，並登載於台灣就業通網站。
    3.  **等待期 (Wait Period - Calendar Days)**：
        - **新制 (2023/6/1 起申請)：** 至少 **7 日** (含週六、日之日曆日)。
        - **舊制 (2023/5/31 前申請)：** 維持至少 21 日。
    4.  期滿無人應徵或應徵人數不足，申請「求才證明書」。
* **必要文件 (Docs)：**
    - [ ] 國內求才登記表 (Domestic Recruitment Registration Form)
    - [ ] 求才證明書 (Certificate of Domestic Recruitment)
* **BDD 驗證規則 (Rules)：**
    - `Scenario`: 新制招募期計算
      - `Given` 雇主於 "2023-06-01" 辦理求才登記
      - `When` 計算招募期滿日
      - `Then` 應為 "2023-06-08" (登記日 + 7日)
    - `Scenario`: 舊制過渡期檢核
      - `Given` 雇主於 "2023-05-31" 辦理求才登記
      - `When` 計算招募期滿日
      - `Then` 應為 "2023-06-21" (登記日 + 21日，無法適用新制)

### 1.2 行業認定與級別管理 (Industry Recognition)
* **適用：** 製造業 3K 案、營造業等。
* **關鍵產出：** 工業局認定函 (級別 A+/A/B/C/D 與核配比率 10%~40%)。
* **系統連動：** 此級別直接影響後續招募函名額的計算基礎。

---

## 🟡 階段 2：許可函申請流程 (Permits & Application)
**目標：** 向勞動部取得「招募名額」。

### 2.1 招募許可函 (Recruitment Permit)
* **系統核心：這是所有移工入境名額的「源頭」。**
* **分類：** 初次招募 (V)、遞補招募 (T)、重新招募 (R)。
* **BDD 邏輯：** `Given` 招募函核准 5 人，`When` 引進第 6 人，`Then` 系統應扣件或報錯。

### 2.2 入國引進許可 (Entry Permit)
* **說明：** 產業類移工取得招募函後，入境前須再申請引進許可（有效期限 6 個月）。

---

## 🟠 階段 3：海外追蹤與入境準備 (Overseas Progress & Entry Prep)
**目標：** 媒合成功後至入境前的黃金追蹤期，整合海外與行政部門協作。

### 3.1 海外進度追蹤 (Overseas Tracker)
* **檢核點 (Checkpoints)：**
    - [x] **海外體檢**：紀錄日期與結果。
    - [x] **良民證**：各國核發進度。
    - [x] **護照檢查**：確保效期 > 6 個月。
    - [x] **舊居留證檢查**：確認曾來台者無逾期或欠稅紀錄。
* **雇主互動：** 提供「一鍵生成進度報告」，讓業務能即時回報雇主最新動態。

### 3.2 入境安排與機場關懷 (Entry & flight Care)
* **動作：** 輸入航班號、簽證號、入境日期。
* **接機登錄：** 系統提醒至「勞動部入境接機系統」登錄。

### 3.3 行政文件預製 (Doc Pre-processing)
* **目標：** 人尚未抵台，系統已依入境日預產「勞工局入國通報」、「居留證申請書」、「聘僱許可申請書」。

---

## 🔴 階段 4：入境與報到 (The Golden Period: Arrival & Onboarding) ✅
**目標：** 確保「入境後 3 天內」與「15 天內」法定通報 100% 準確率。

### 4.1 入國通報與證照申辦 (Legal Filings) ✅
* **結果導向驗證 (Result-Oriented Validation)：**
    - [x] **3日內**: 入國通報、入境健檢
    - [x] **15日內**: 居留證申請、聘僱許可申請
    - [x] **邏輯：** 若已有「收文號/序號」或「證號」，即便「送件日」為空，系統亦判定為 **COMPLIANT (合規)**。

### 4.2 異常處理與衛政通報 (Medical Exception) ✅
* **情境：** 體檢發現法定傳染病（如肺結核、阿米巴痢疾）。
* **觸發：** 標記異常後，系統自動 `@行政人員` (辦理通報) 與 `@業務` (通知雇主/治療)。

---

## � 階段 5：履約管理與帳務 (Lifecycle & Finance)
**目標：** 確保三年聘僱期內，體檢不逾期、稅務不漏繳。

### 5.1 定期體檢與證照更新
* **週期：** 滿 6, 18, 30 個月需體檢（前後 30 天內有效）。
* **自動提醒：** 提前 1 個月於 Dashboard 顯示黃燈預警。

### 5.2 智慧帳務系統 (Advanced Billing)
* **薪資結構：** 處理代扣勞健保、所得稅（6% vs 5%）、膳宿費、服務費。
* **法律約束：** 服務費不得「預扣」，須逐月收取 (1800/1700/1500)。
* **差異比對 (Diff Mode)：** 當移工搬家 (宿舍變動) 或護照換新時，系統自動觸發「帳務審核」，確保請款單正確。

### 5.3 宿舍與環境管理 (Dormitory)
* **功能：** 床位指派、水電抄表分攤、定期訪視紀錄 (法規要求每 3 個月訪視)。

---

## 🟣 階段 6：轉出與離境 (Departure & Termination)
**目標：** 守好最後一關，處理退保、解約與完稅。

### 6.1 廢止聘僱與轉換雇主 (Transfer)
* **流程：** 雙方或三方合意解約 -> 向就業中心登記轉換 -> 公告期滿接續。

### 6.2 完工離境 (Departure)
* **檢核：** 完稅證明 (所得稅清繳)、退保作業、搭機通報。

---

## � 階段 7：協作與異常監控 (Collaboration & Alert System)
**目標：** 跨部門資訊傳遞零誤差。

### 7.1 討論串與提及 (@Mentions)
* **溝通層：** 掛載於移工或申請案上的溝通紀錄，支援 `@特定人員` 或 `@組長`，防止口頭交辦被遗忘。

### 7.2 智慧異常儀表板 (Exception Dashboard)
* **分級制：**
    - 🔴 **Critical**：3 天內逾期 (未通報、居留證到期)。
    - 🟡 **Warning**：1 個月內到期 (護照、體檢)。
    - 🔵 **Info**：待補資料、進度追蹤。

---

## 🛠️ 技術實作指引 (Technical Implementation)

### 核心資料實體建議 (Main Models)
1.  **Candidate/Worker**：從人才池到正式員工的狀態轉換。
2.  **Employer**：關聯行業級別與名額餘額。
3.  **Application/Case**：追蹤單一招募案的進度（從選工到入境）。
4.  **BillingLog**：紀錄所有金額異動的審計軌跡。
5.  **Comment/Thread**：賦能跨部門溝通。

### UI/UX 策略
* **進度條 (Progress Bar)**：頂部顯示 `[招募] -> [簽證] -> [入境] -> [辦證] -> [在職]`。
* **右側側拉面板 (Drawer)**：不離開主頁面即可進行 `@提及` 協作與查看歷史紀錄。
* **結果導向過濾**：在各列表頁預設只顯示「異常/需處理」之資料。